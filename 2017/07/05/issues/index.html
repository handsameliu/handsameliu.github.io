<!doctype html>




<html class="theme-next pisces" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.1" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="总结,js," />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.1" />






<meta name="description" content="1、移动端调用数字键盘设置html5中type新属性number或tel，并设置pattern正则表达式为[0-9]*即可。但是安卓和ios出现的效果有所不同，ios无法输入小数点…">
<meta name="keywords" content="总结,js">
<meta property="og:type" content="article">
<meta property="og:title" content="平时遇到的一些问题总结">
<meta property="og:url" content="http://yoursite.com/2017/07/05/issues/index.html">
<meta property="og:site_name" content="handsameliu">
<meta property="og:description" content="1、移动端调用数字键盘设置html5中type新属性number或tel，并设置pattern正则表达式为[0-9]*即可。但是安卓和ios出现的效果有所不同，ios无法输入小数点…">
<meta property="og:updated_time" content="2017-07-05T01:45:27.643Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="平时遇到的一些问题总结">
<meta name="twitter:description" content="1、移动端调用数字键盘设置html5中type新属性number或tel，并设置pattern正则表达式为[0-9]*即可。但是安卓和ios出现的效果有所不同，ios无法输入小数点…">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    sidebar: {"position":"right","display":"post","offset":12,"offset_float":0,"b2t":false,"scrollpercent":false},
    fancybox: true,
    motion: false,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/2017/07/05/issues/"/>





  <title>平时遇到的一些问题总结 | handsameliu</title>
  














</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-right page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">handsameliu</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">精神性洁癖的程序员</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/07/05/issues/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="handsameliu">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/img/useravatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="handsameliu">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">平时遇到的一些问题总结</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-07-05T09:05:03+08:00">
                2017-07-05
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/总结/" itemprop="url" rel="index">
                    <span itemprop="name">总结</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/总结/js/" itemprop="url" rel="index">
                    <span itemprop="name">js</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        <h2 id="1、移动端调用数字键盘"><a href="#1、移动端调用数字键盘" class="headerlink" title="1、移动端调用数字键盘"></a>1、移动端调用<code>数字键盘</code></h2><p>设置html5中type新属性number或tel，并设置pattern正则表达式为<code>[0-9]*</code>即可。<br>但是安卓和ios出现的效果有所不同，ios无法输入小数点…</p>
<a id="more"></a>
<h2 id="2、移动端调用虚拟键盘搜索按钮"><a href="#2、移动端调用虚拟键盘搜索按钮" class="headerlink" title="2、移动端调用虚拟键盘搜索按钮"></a>2、移动端调用<code>虚拟键盘搜索按钮</code></h2><p>想要调用虚拟键盘的搜索按钮首先要有input标签，其外部使用form表单包裹，form表单的action可以为空，但是onSubmit需要设置为<code>return false</code>或<code>阻止默认事件preventDefault()</code>,最好两个都写，<code>防止页面刷新</code>.<br>内部的input标签需要设置type为<code>search</code>，这样输入法才能识别并显示出搜索按钮（不设置search的话会显示换行，换行也相当于回车，显示的名字不同keyCode都是13，点击后的效果一样）。<br>input标签需要设置keyUp事件，每次输入的值都要监听（其实手机虚拟键盘的keyCode与键盘是一样的）。当监听到<code>keyCode是13</code>的时候调用自己写的搜索方法即可。</p>
<h2 id="3、微信录音，录像，上传"><a href="#3、微信录音，录像，上传" class="headerlink" title="3、微信录音，录像，上传"></a>3、微信录音，录像，上传</h2><p><a href="https://mp.weixin.qq.com/wiki" target="_blank" rel="external">微信文档</a><a href="https://mp.weixin.qq.com/wiki" target="_blank" rel="external">https://mp.weixin.qq.com/wiki</a></p>
<h3 id="JSSDK使用步骤"><a href="#JSSDK使用步骤" class="headerlink" title="JSSDK使用步骤"></a>JSSDK使用步骤</h3><h3 id="步骤一：绑定域名"><a href="#步骤一：绑定域名" class="headerlink" title="步骤一：绑定域名"></a>步骤一：绑定域名</h3><p>先登录微信公众平台进入“公众号设置”的“功能设置”里填写“JS接口安全域名”。<br>备注：登录后可在“开发者中心”查看对应的接口权限。</p>
<h3 id="步骤二：引入JS文件"><a href="#步骤二：引入JS文件" class="headerlink" title="步骤二：引入JS文件"></a>步骤二：引入JS文件</h3><p>在需要调用JS接口的页面引入如下JS文件，（支持https）：<a href="http://res.wx.qq.com/open/js/jweixin-1.2.0.js" target="_blank" rel="external">http://res.wx.qq.com/open/js/jweixin-1.2.0.js</a><br>备注：支持使用 AMD/CMD 标准模块加载方法加载</p>
<h3 id="步骤三：通过config接口注入权限验证配置"><a href="#步骤三：通过config接口注入权限验证配置" class="headerlink" title="步骤三：通过config接口注入权限验证配置"></a>步骤三：通过config接口注入权限验证配置</h3><p>所有需要使用JS-SDK的页面必须先注入配置信息，否则将无法调用（同一个url仅需调用一次，对于变化url的SPA的web app可在每次url变化时进行调用,目前Android微信客户端不支持pushState的H5新特性，所以使用pushState来实现web app的页面会导致签名失败，此问题会在Android6.2中修复）。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">wx.config(&#123;</div><div class="line">	debug: true, // 开启调试模式,调用的所有api的返回值会在客户端alert出来，若要查看传入的参数，可以在pc端打开，参数信息会通过log打出，仅在pc端时才会打印。</div><div class="line">	appId: &apos;&apos;, // 必填，公众号的唯一标识</div><div class="line">	timestamp: , // 必填，生成签名的时间戳</div><div class="line">	nonceStr: &apos;&apos;, // 必填，生成签名的随机串</div><div class="line">	signature: &apos;&apos;,// 必填，签名，见附录1</div><div class="line">	jsApiList: [] // 必填，需要使用的JS接口列表，所有JS接口列表见附录2</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<h3 id="步骤四：通过ready接口处理成功验证"><a href="#步骤四：通过ready接口处理成功验证" class="headerlink" title="步骤四：通过ready接口处理成功验证"></a>步骤四：通过ready接口处理成功验证</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">wx.ready(function()&#123;</div><div class="line">	// config信息验证后会执行ready方法，所有接口调用都必须在config接口获得结果之后，config是一个客户端的异步操作，所以如果需要在页面加载时就调用相关接口，则须把相关接口放在ready函数中调用来确保正确执行。对于用户触发时才调用的接口，则可以直接调用，不需要放在ready函数中。</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<h3 id="步骤五：通过error接口处理失败验证"><a href="#步骤五：通过error接口处理失败验证" class="headerlink" title="步骤五：通过error接口处理失败验证"></a>步骤五：通过error接口处理失败验证</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">wx.error(function(res)&#123;</div><div class="line">	// config信息验证失败会执行error函数，如签名过期导致验证失败，具体错误信息可以打开config的debug模式查看，也可以在返回的res参数中查看，对于SPA可以在这里更新签名。</div></pre></td></tr></table></figure>
<h3 id="接口调用说明"><a href="#接口调用说明" class="headerlink" title="接口调用说明"></a>接口调用说明</h3><p>所有接口通过wx对象(也可使用jWeixin对象)来调用，参数是一个对象，除了每个接口本身需要传的参数之外，还有以下通用参数：</p>
<pre><code>1.success：接口调用成功时执行的回调函数。
2.fail：接口调用失败时执行的回调函数。
3.complete：接口调用完成时执行的回调函数，无论成功或失败都会执行。
4.cancel：用户点击取消时的回调函数，仅部分有用户取消操作的api才会用到。
5.trigger: 监听Menu中的按钮点击时触发的方法，该方法仅支持Menu中的相关接口。
备注：不要尝试在trigger中使用ajax异步请求修改本次分享的内容，因为客户端分享操作是一个同步操作，这时候使用ajax的回包会还没有返回。
以上几个函数都带有一个参数，类型为对象，其中除了每个接口本身返回的数据之外，还有一个通用属性errMsg，其值格式如下：
调用成功时：&quot;xxx:ok&quot; ，其中xxx为调用的接口名
用户取消时：&quot;xxx:cancel&quot;，其中xxx为调用的接口名
调用失败时：其值为具体错误信息
</code></pre><h3 id="建议将以上方法重新封装到一个统一的方法中，方便调用。以下是所有的jslist，建议是需要哪个请求哪个即可，不用都写上。"><a href="#建议将以上方法重新封装到一个统一的方法中，方便调用。以下是所有的jslist，建议是需要哪个请求哪个即可，不用都写上。" class="headerlink" title="建议将以上方法重新封装到一个统一的方法中，方便调用。以下是所有的jslist，建议是需要哪个请求哪个即可，不用都写上。"></a>建议将以上方法重新封装到一个统一的方法中，方便调用。以下是所有的jslist，建议是需要哪个请求哪个即可，不用都写上。</h3><pre><code>let jsList = [&apos;checkJsApi&apos;,&apos;onMenuShareTimeline&apos;,&apos;onMenuShareAppMessage&apos;,&apos;onMenuShareQQ&apos;,&apos;onMenuShareWeibo&apos;,&apos;onMenuShareQZone&apos;,&apos;hideMenuItems&apos;,&apos;showMenuItems&apos;,&apos;hideAllNonBaseMenuItem&apos;,&apos;showAllNonBaseMenuItem&apos;,&apos;translateVoice&apos;,&apos;startRecord&apos;,&apos;stopRecord&apos;,&apos;onVoiceRecordEnd&apos;,&apos;playVoice&apos;,&apos;onVoicePlayEnd&apos;,&apos;pauseVoice&apos;,&apos;stopVoice&apos;,&apos;uploadVoice&apos;,&apos;downloadVoice&apos;,&apos;chooseImage&apos;,&apos;previewImage&apos;,&apos;uploadImage&apos;,&apos;downloadImage&apos;,&apos;getNetworkType&apos;,&apos;openLocation&apos;,&apos;getLocation&apos;,&apos;hideOptionMenu&apos;,&apos;showOptionMenu&apos;,&apos;closeWindow&apos;,&apos;scanQRCode&apos;,&apos;chooseWXPay&apos;,&apos;openProductSpecificView&apos;,&apos;addCard&apos;,&apos;chooseCard&apos;,&apos;openCard&apos;,&apos;configWXDeviceWiFi&apos;,&apos;onReceiveDataFromWXDevice&apos;,&apos;openWXDeviceLib&apos;, &apos;getWXDeviceInfos&apos;,&apos;connectWXDevice&apos;,&apos;disconnectWXDevice&apos;,&apos;getWXDeviceTicket&apos;];
</code></pre><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line">// 开始录音</div><div class="line">wx.ready(function () &#123;</div><div class="line">	wx.startRecord(&#123;</div><div class="line">		success: function()&#123;</div><div class="line">			//录音成功后执行的方法，可以先不用谢，等到录音停止后再执行</div><div class="line">		&#125;,</div><div class="line">		cancel: function () &#123;</div><div class="line">			alert(&apos;用户拒绝授权录音&apos;);</div><div class="line">		&#125;</div><div class="line">	&#125;);</div><div class="line">&#125;)</div><div class="line">// 语音结束	</div><div class="line">wx.stopRecord(&#123;</div><div class="line">	success: function (res) &#123;</div><div class="line">		// 录音成功后执行的方法，一般是上传语音或者给页面添加录音时间</div><div class="line">	&#125;,</div><div class="line">	fail: function (res) &#123;</div><div class="line">		// 失败后执行的方法</div><div class="line">		console.log(res);</div><div class="line">	&#125;</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<p>微信语音的格式是amr的所以无法直接播放就需要转换成h5可以识别的格式了。而且还需要先上传到微信才能下载到本地。。。</p>
<h2 id="4、七牛nodejsSDK"><a href="#4、七牛nodejsSDK" class="headerlink" title="4、七牛nodejsSDK"></a>4、七牛nodejsSDK</h2><p>七牛提供了各种语言不通的sdk，非常方便。<br>首先require(‘qiniu’)，其次就是非常重要的key了。需要从自己的七牛账户中获取到ACCESS_KEY，SECRET_KEY，Bucket_Name，这些都是要在请求token的时候使用的。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div></pre></td><td class="code"><pre><div class="line">// 获取图片token</div><div class="line">exports.getToken = (req, res) =&gt; &#123;</div><div class="line">	// 获取密钥</div><div class="line">	qiniu.conf.ACCESS_KEY = ACCESS_KEY;</div><div class="line">	qiniu.conf.SECRET_KEY = SECRET_KEY;</div><div class="line">	// 选择存储的空间</div><div class="line">	let uptoken = new qiniu.rs.PutPolicy(Bucket_Name);</div><div class="line">	// 限制上传类型</div><div class="line">	uptoken.mimeLimit = &apos;image/jpeg;image/png;image/gif;image/jpg;image/x-png&apos;;</div><div class="line">	// 生成token值</div><div class="line">	let token = uptoken.token();</div><div class="line">	return token;</div><div class="line">&#125;;</div><div class="line">// 获取音频token</div><div class="line">exports.audioToken = (key) =&gt; &#123;</div><div class="line">	// 获取密钥</div><div class="line">	qiniu.conf.ACCESS_KEY = ACCESS_KEY;</div><div class="line">	qiniu.conf.SECRET_KEY = SECRET_KEY;</div><div class="line">	// 由于上传的文件需要转换格式，所以需要使用七牛的转码工具，最好是指定返回的文件名，随机的文件名会找不到文件。。。</div><div class="line">	let fops = &quot;avthumb/mp3/ab/192k/ar/44100/acodec/libmp3lame|saveas/&quot; + qiniu.util.urlsafeBase64Encode(Bucket_Name+&apos;:&apos;+key);</div><div class="line">	let uptoken = new qiniu.rs.PutPolicy(Bucket_Name);</div><div class="line">	uptoken.mimeLimit = &apos;audio/*&apos;;</div><div class="line">	uptoken.pipeline = &apos;qzpv2_pipeline&apos;;//  zt_jh   qzpv2_pipeline</div><div class="line">	uptoken.persistentOps = fops;</div><div class="line">	// 生成token值</div><div class="line">	let token = uptoken.token();</div><div class="line">	return token;</div><div class="line">&#125;;</div><div class="line">// 获取视频token</div><div class="line">exports.videoToken = (key) =&gt; &#123;</div><div class="line">	// 获取密钥</div><div class="line">	qiniu.conf.ACCESS_KEY = ACCESS_KEY;</div><div class="line">	qiniu.conf.SECRET_KEY = SECRET_KEY;</div><div class="line">	let fops = &quot;avthumb/mp4/ab/160k/ar/44100/acodec/libfaac/r/30/vb/2200k/vcodec/libx264/s/1280x720/autoscale/1/stripmeta/0|saveas/&quot; + qiniu.util.urlsafeBase64Encode(Bucket_Name+&apos;:&apos;+key);</div><div class="line">	let uptoken = new qiniu.rs.PutPolicy(Bucket_Name);</div><div class="line">	uptoken.mimeLimit = &apos;video/*&apos;;</div><div class="line">	uptoken.pipeline = &apos;qzpv2_pipeline&apos;;</div><div class="line">	uptoken.persistentOps = fops;</div><div class="line">	// 生成token值</div><div class="line">	let token = uptoken.token();</div><div class="line">	return token;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<p>上传的话，将token和文件一起post到七牛即可了，token是有时效的哦。。</p>
<h2 id="5、react中swiper轮播图生命周期"><a href="#5、react中swiper轮播图生命周期" class="headerlink" title="5、react中swiper轮播图生命周期"></a>5、react中swiper轮播图生命周期</h2><p>调用swiperjs的轮播图后安卓端是可以的，但是ios端就是不走。<br>最后将初始化swiper的代码写到了页面render中才可以，但是页面重新或者渲染后js又乱了，还在研究如何处理中。<br>估计又是生命周期的事。</p>
<hr>
<p>奇葩了，把轮播图的代码又重新放到了页面最下面就渲染出来了，，，记得当初是渲染失败的呀。。。。<br>这样的话按照最初最简单的方法使用swiper即可，如果可以的话，可以将swiper封装成组件。</p>
<hr>
<p>今天更奇葩的事情出现了（与上次起码隔了两个多月），直接将轮播图的代码放入到页面的head中的script标签中就可以直接渲染出来…又回到了起点但至今没有出现过任何问题了。</p>
<h2 id="6、vw-vh"><a href="#6、vw-vh" class="headerlink" title="6、vw vh"></a>6、vw vh</h2><p>在有输入框的页面慎用vh，因为他是屏幕占比，弹出输入法后会把页面内的vh自动变小（特别是ios）。。。<br>vw 相对于视窗的宽度：视窗宽度是100vw。vw 相对于视窗的高度：视窗高度是100vw。<br>“视区”所指为浏览器内部的可视区域大小，即window.innerWidth/window.innerHeight大小，不包含任务栏标题栏以及底部工具栏的浏览器区域大小。</p>
<p>详见：<a href="http://www.zhangxinxu.com/wordpress/2012/09/new-viewport-relative-units-vw-vh-vm-vmin/" target="_blank" rel="external">http://www.zhangxinxu.com/wordpress/2012/09/new-viewport-relative-units-vw-vh-vm-vmin/</a></p>
<h2 id="7、移动端下input提示内容靠下"><a href="#7、移动端下input提示内容靠下" class="headerlink" title="7、移动端下input提示内容靠下"></a>7、移动端下input提示内容靠下</h2><p>设置<code>lineHeight:&#39;1.5em&#39;</code>即可，但是安卓端和ios端会稍有差距，但我觉得可以忽略。。。使用的是微信的weui，所以字体默认就1em了。</p>
<h2 id="8、微信端动态设置title"><a href="#8、微信端动态设置title" class="headerlink" title="8、微信端动态设置title"></a>8、微信端动态设置title</h2><p>通过知乎看到了解决的方法，但是后来发现我可以在微信中直接使用<code>document.title = &#39;新title&#39;</code>。<br>也许是受益于react的生命周期吧。<br>以下是知乎的解决方法，可以直接使用。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line">xxx.setDocumentTitle = function(title) &#123;</div><div class="line">	document.title = title;</div><div class="line">	if (/ip(hone|od|ad)/i.test(navigator.userAgent)) &#123;</div><div class="line">		var i = document.createElement(&apos;iframe&apos;);</div><div class="line">		i.src = &apos;/favicon.ico&apos;;</div><div class="line">		i.style.display = &apos;none&apos;;</div><div class="line">		i.onload = function() &#123;</div><div class="line">			setTimeout(function()&#123;</div><div class="line">				i.remove();</div><div class="line">			&#125;, 9)</div><div class="line">		&#125;</div><div class="line">		document.body.appendChild(i);</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line">//作者：firesh</div><div class="line">//链接：https://www.zhihu.com/question/26228251/answer/129206389</div><div class="line">//来源：知乎</div><div class="line">//著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</div></pre></td></tr></table></figure>
<h2 id="9、下载微信二维码图片并修改名称及后缀"><a href="#9、下载微信二维码图片并修改名称及后缀" class="headerlink" title="9、下载微信二维码图片并修改名称及后缀"></a>9、下载微信二维码图片并修改名称及后缀</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">id</span>=<span class="string">"link"</span> <span class="attr">download</span>=<span class="string">"我的二维码.jpg"</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span> dasdasds</div><div class="line">	<span class="tag">&lt;<span class="name">canvas</span> <span class="attr">id</span>=<span class="string">"myCanvas"</span>&gt;</span><span class="tag">&lt;/<span class="name">canvas</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">a</span>&gt;</span></div></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 方法忘记是从哪个网站上找的了。。。不过仅对于有后缀的图片是可以处理的，微信生产的二维码是没有后缀的。</span></div><div class="line"><span class="comment">// 所以我的项目中暂时使用的是a标签直接链接地址弹出下载的方式。</span></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">convertImageToBase64</span>(<span class="params">image_url</span>) </span>&#123;</div><div class="line">	<span class="keyword">var</span> img = <span class="keyword">new</span> Image();</div><div class="line">	<span class="comment">// 跨域</span></div><div class="line">	img.crossOrigin = <span class="string">"Anonymous"</span>;</div><div class="line">	img.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">		<span class="keyword">if</span> (img.src.indexOf(<span class="string">"data:image"</span>)&lt;<span class="number">0</span>)&#123;</div><div class="line">		  <span class="keyword">var</span> canvas = <span class="built_in">document</span>.getElementById(<span class="string">"myCanvas"</span>);</div><div class="line">		  canvas.width = img.width;</div><div class="line">		  canvas.height = img.height;</div><div class="line">		  canvas.getContext(<span class="string">"2d"</span>).drawImage(img, <span class="number">0</span>, <span class="number">0</span>);</div><div class="line">		  img.src = canvas.toDataURL(<span class="string">'image/png'</span>);</div><div class="line">		  <span class="built_in">document</span>.getElementById(<span class="string">"link"</span>).href = img.src;</div><div class="line">		&#125;</div><div class="line">	&#125;;</div><div class="line">	img.src = image_url;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<blockquote>
<p>再补充一种下载方式 不兼容火狐</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">var $a = document.createElement(&apos;a&apos;);</div><div class="line">$a.setAttribute(&quot;href&quot;, $scope.twoBarCodeImg);</div><div class="line">$a.setAttribute(&quot;download&quot;, &quot;我的二维码.jpg&quot;);</div><div class="line">var evObj = document.createEvent(&apos;MouseEvents&apos;);</div><div class="line">evObj.initMouseEvent( &apos;click&apos;, true, true, window, 0, 0, 0, 0, 0, false, false, true, false, 0, null);</div><div class="line">$a.dispatchEvent(evObj);</div></pre></td></tr></table></figure>
<blockquote>
<p>最好是让后台返回一个文件地址或者文件流。前台别操作</p>
</blockquote>
<p>其他问题想不出来了，有问题再写.</p>
<hr>
<p>目前采用的是nodejs中res.download方法下载的文件。</p>
<h2 id="10、遇到的超出内容显示省略号"><a href="#10、遇到的超出内容显示省略号" class="headerlink" title="10、遇到的超出内容显示省略号"></a>10、遇到的超出内容显示省略号</h2><p>由于是移动端开发使用的是css3的属性，没有使用伪类的方法。如果考虑兼容建议伪类的方式。</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">/*第一种方式也是我使用的方式*/</div><div class="line">display: '-webkit-box',</div><div class="line">   WebkitLineClamp: '3', /*设定超出几行显示省略号*/</div><div class="line">   WebkitBoxOrient: 'vertical',</div><div class="line">   overflow: 'hidden'</div><div class="line"></div><div class="line">/*一般常用的方式*/</div><div class="line">overflow: hidden;</div><div class="line">text-overflow:ellipsis;</div><div class="line">white-space: nowrap;</div></pre></td></tr></table></figure>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div></pre></td><td class="code"><pre><div class="line">/*纯css3实现的多行超出显示省略号*/</div><div class="line">$font-size: 26px;</div><div class="line">$line-height: 1.4;</div><div class="line">$lines-to-show: 3;</div><div class="line"></div><div class="line">h2 &#123;</div><div class="line">  display: block; /* Fallback for non-webkit */</div><div class="line">  display: -webkit-box;</div><div class="line">  max-width: 400px;</div><div class="line">  height: $font-size*$line-height*$lines-to-show; /* Fallback for non-webkit */</div><div class="line">  margin: 0 auto;</div><div class="line">  font-size: $font-size;</div><div class="line">  line-height: $line-height;</div><div class="line">  -webkit-line-clamp: $lines-to-show;</div><div class="line">  -webkit-box-orient: vertical;</div><div class="line">  overflow: hidden;</div><div class="line">  text-overflow: ellipsis;</div><div class="line">&#125;</div><div class="line">/*编译出来的结果*/</div><div class="line">h2 &#123;</div><div class="line">    display: block;</div><div class="line">    display: -webkit-box;</div><div class="line">    max-width: 400px;</div><div class="line">    height: 109.2px;</div><div class="line">    margin: 0 auto;</div><div class="line">    font-size: 26px;</div><div class="line">    line-height: 1.4;</div><div class="line">    -webkit-line-clamp: 3;</div><div class="line">    -webkit-box-orient: vertical;</div><div class="line">    overflow: hidden;</div><div class="line">    text-overflow: ellipsis;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>适用范围：<br>因使用了WebKit的CSS扩展属性，该方法适用于WebKit浏览器及移动端；<br>注：<br>-webkit-line-clamp用来限制在一个块元素显示的文本的行数。 为了实现该效果，它需要组合其他的WebKit属性。常见结合属性：<br>display: -webkit-box; 必须结合的属性 ，将对象作为弹性伸缩盒子模型显示 。<br>-webkit-box-orient 必须结合的属性 ，设置或检索伸缩盒对象的子元素的排列方式 。</p>
<h3 id="使用伪元素加绝对定位"><a href="#使用伪元素加绝对定位" class="headerlink" title="使用伪元素加绝对定位"></a>使用伪元素加绝对定位</h3><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">p &#123;</div><div class="line">	position:relative;</div><div class="line">	line-height:20px;</div><div class="line">	max-height:40px;</div><div class="line">	overflow:hidden;</div><div class="line">&#125;</div><div class="line">p::after &#123;</div><div class="line">	content: "\02026";      // '...'</div><div class="line">	position:absolute;</div><div class="line">	bottom:0;</div><div class="line">	right:0;</div><div class="line">	padding-left:40px;</div><div class="line">	background:-webkit-linear-gradient(left,transparent,#fff 55%);</div><div class="line">	background:-o-linear-gradient(right,transparent,#fff 55%);</div><div class="line">	background:-moz-linear-gradient(right,transparent,#fff 55%);</div><div class="line">	background:linear-gradient(to right,transparent,#fff 55%);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>适用范围：<br>该方法适用范围广，但文字未超出行的情况下也会出现省略号,可结合js优化该方法。<br>注：<br>将height设置为line-height的整数倍，防止超出的文字露出。<br>给p::after添加渐变背景可避免文字只显示一半。<br>由于ie6-7不显示content内容，所以要添加标签兼容ie6-7（如：<span>…<span>）；兼容ie8需要将::after替换成:after。</span></span></p>
<blockquote>
<p>查考链接:<a href="http://caibaojian.com/multiline-text-with-ellipsis.html" target="_blank" rel="external">http://caibaojian.com/multiline-text-with-ellipsis.html</a></p>
</blockquote>
<h2 id="11、监听微信端后退事件"><a href="#11、监听微信端后退事件" class="headerlink" title="11、监听微信端后退事件"></a>11、监听微信端后退事件</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">window</span>.addEventListener(<span class="string">"popstate"</span>, <span class="function"><span class="keyword">function</span>(<span class="params">e</span>) </span>&#123;  </div><div class="line">	<span class="comment">// 监听后执行的方法。</span></div><div class="line">&#125;, <span class="literal">false</span>);</div></pre></td></tr></table></figure>
<h2 id="12、微信分享时遇到的问题"><a href="#12、微信分享时遇到的问题" class="headerlink" title="12、微信分享时遇到的问题"></a>12、微信分享时遇到的问题</h2><p>在制作微信分享时，遇到了一个当时认为及其奇葩的问题。分享后不显示我所设置的值。原因是页面中有一个方法加入了过滤条件，没有登陆就无法查询到。<br>正常情况下按照微信jssdk中的方法一次就可以搞定。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//wxChatConfig  为获取微信授权的方法 ，具体在后台不便写出</span></div><div class="line">wxChatConfig(<span class="built_in">document</span>.title, doctor, (title, doctor) =&gt; &#123;</div><div class="line">	wx.ready(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">		<span class="keyword">let</span> shareData = &#123;</div><div class="line">			<span class="attr">title</span>: title,</div><div class="line">			<span class="attr">desc</span>: desc,</div><div class="line">			<span class="attr">link</span>: <span class="built_in">window</span>.location.href,</div><div class="line">			<span class="attr">imgUrl</span>: <span class="built_in">encodeURI</span>(<span class="built_in">encodeURI</span>(location.protocol + <span class="string">'//'</span> + location.host + <span class="string">'/img/20170531211817.jpg'</span>)), <span class="comment">// 图片为绝对路径，建议encode避免中文字符</span></div><div class="line">			success: <span class="function"><span class="keyword">function</span> (<span class="params">res</span>) </span>&#123;</div><div class="line">				<span class="built_in">console</span>.log(res);</div><div class="line">			&#125;,</div><div class="line">			<span class="attr">cancel</span>: <span class="function"><span class="keyword">function</span> (<span class="params">err</span>) </span>&#123;</div><div class="line">				<span class="built_in">console</span>.log(err);</div><div class="line">			&#125;,</div><div class="line">			<span class="attr">fail</span>: <span class="function"><span class="keyword">function</span> (<span class="params">res</span>) </span>&#123;</div><div class="line">				<span class="built_in">console</span>.log(res);</div><div class="line">			&#125;</div><div class="line">		&#125;;</div><div class="line">		wx.onMenuShareAppMessage(shareData);</div><div class="line">		wx.onMenuShareTimeline(shareData);</div><div class="line">	&#125;);</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<h2 id="13、ios下readonly失效"><a href="#13、ios下readonly失效" class="headerlink" title="13、ios下readonly失效"></a>13、ios下readonly失效</h2><p>最近使用reactweui做公众号，在iso设备上出现readonly失效的情况，找了一下原因是ios系统的问题，虽然设置了只读，但是失效了，安卓下完美。所以找到几种方法。最好用的是让当前元素支取焦点，其次是两个css3webkit属性</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">document</span>.activeElement.blur();  <span class="comment">// 第一个就可以完美解决问题</span></div><div class="line">在focus的时候e.blur();</div><div class="line">unselectable=<span class="string">"on"</span></div><div class="line">onselectstart=<span class="string">"return false;"</span></div><div class="line">-webkit-user-select:none;</div><div class="line">ime-mode:disabled;</div><div class="line">-webkit-touch-callout:none;</div></pre></td></tr></table></figure>
<h2 id="14、判断是手机还是PC并实现跳转"><a href="#14、判断是手机还是PC并实现跳转" class="headerlink" title="14、判断是手机还是PC并实现跳转"></a>14、判断是手机还是PC并实现跳转</h2><p>由于目前好多网站手机端和PC端使用的并不是同一个自适应页面，所以就需要判断客户登陆的方式并自动跳转到指定的页面。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> browser=&#123;</div><div class="line">	<span class="attr">versions</span>:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">		<span class="keyword">var</span> u = navigator.userAgent, app = navigator.appVersion;</div><div class="line">		<span class="keyword">return</span> &#123;</div><div class="line">			<span class="attr">trident</span>: u.indexOf(<span class="string">'Trident'</span>) &gt; <span class="number">-1</span>,</div><div class="line">			<span class="attr">presto</span>: u.indexOf(<span class="string">'Presto'</span>) &gt; <span class="number">-1</span>,</div><div class="line">			<span class="attr">webKit</span>: u.indexOf(<span class="string">'AppleWebKit'</span>) &gt; <span class="number">-1</span>,</div><div class="line">			<span class="attr">gecko</span>: u.indexOf(<span class="string">'Gecko'</span>) &gt; <span class="number">-1</span> &amp;&amp; u.indexOf(<span class="string">'KHTML'</span>) == <span class="number">-1</span>,</div><div class="line">			<span class="attr">mobile</span>: !!u.match(<span class="regexp">/AppleWebKit.*Mobile.*/</span>),</div><div class="line">			<span class="attr">ios</span>: !!u.match(<span class="regexp">/\(i[^;]+;( U;)? CPU.+Mac OS X/</span>),</div><div class="line">			<span class="attr">android</span>: u.indexOf(<span class="string">'Android'</span>) &gt; <span class="number">-1</span> || u.indexOf(<span class="string">'Linux'</span>) &gt; <span class="number">-1</span>,</div><div class="line">			<span class="attr">iPhone</span>: u.indexOf(<span class="string">'iPhone'</span>) &gt; <span class="number">-1</span> ,</div><div class="line">			<span class="attr">iPad</span>: u.indexOf(<span class="string">'iPad'</span>) &gt; <span class="number">-1</span>,</div><div class="line">			<span class="attr">webApp</span>: u.indexOf(<span class="string">'Safari'</span>) == <span class="number">-1</span></div><div class="line">		&#125;;</div><div class="line">	&#125;(),</div><div class="line">	<span class="attr">language</span>:(navigator.browserLanguage || navigator.language).toLowerCase();</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">if</span>(browser.versions.mobile || browser.versions.ios || browser.versions.android || browser.versions.iPhone || browser.versions.iPad)&#123;</div><div class="line">	<span class="built_in">window</span>.location = <span class="string">"指定页面"</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/总结/" rel="tag"># 总结</a>
          
            <a href="/tags/js/" rel="tag"># js</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2017/07/04/hexo-github.io/" rel="next" title="hexo+github.io建立轻博客">
                <i class="fa fa-chevron-left"></i> hexo+github.io建立轻博客
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2017/07/05/react+redux/" rel="prev" title="react+redux">
                react+redux <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/img/useravatar.png"
               alt="handsameliu" />
          <p class="site-author-name" itemprop="name">handsameliu</p>
           
              <p class="site-description motion-element" itemprop="description">工作五年的初级程序员--自认为拥有小小的帅气 ^_^ </p>
          
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives">
                <span class="site-state-item-count">12</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-categories">
              <a href="/categories/index.html">
                <span class="site-state-item-count">15</span>
                <span class="site-state-item-name">分类</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-tags">
              <a href="/tags/index.html">
                <span class="site-state-item-count">13</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/handsameliu" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                  GitHub
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://weibo.com/u/2093882590" target="_blank" title="Weibo">
                  
                    <i class="fa fa-fw fa-weibo"></i>
                  
                  Weibo
                </a>
              </span>
            
          
        </div>

        
        

        
        

        


      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#1、移动端调用数字键盘"><span class="nav-number">1.</span> <span class="nav-text">1、移动端调用数字键盘</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2、移动端调用虚拟键盘搜索按钮"><span class="nav-number">2.</span> <span class="nav-text">2、移动端调用虚拟键盘搜索按钮</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3、微信录音，录像，上传"><span class="nav-number">3.</span> <span class="nav-text">3、微信录音，录像，上传</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#JSSDK使用步骤"><span class="nav-number">3.1.</span> <span class="nav-text">JSSDK使用步骤</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#步骤一：绑定域名"><span class="nav-number">3.2.</span> <span class="nav-text">步骤一：绑定域名</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#步骤二：引入JS文件"><span class="nav-number">3.3.</span> <span class="nav-text">步骤二：引入JS文件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#步骤三：通过config接口注入权限验证配置"><span class="nav-number">3.4.</span> <span class="nav-text">步骤三：通过config接口注入权限验证配置</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#步骤四：通过ready接口处理成功验证"><span class="nav-number">3.5.</span> <span class="nav-text">步骤四：通过ready接口处理成功验证</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#步骤五：通过error接口处理失败验证"><span class="nav-number">3.6.</span> <span class="nav-text">步骤五：通过error接口处理失败验证</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#接口调用说明"><span class="nav-number">3.7.</span> <span class="nav-text">接口调用说明</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#建议将以上方法重新封装到一个统一的方法中，方便调用。以下是所有的jslist，建议是需要哪个请求哪个即可，不用都写上。"><span class="nav-number">3.8.</span> <span class="nav-text">建议将以上方法重新封装到一个统一的方法中，方便调用。以下是所有的jslist，建议是需要哪个请求哪个即可，不用都写上。</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4、七牛nodejsSDK"><span class="nav-number">4.</span> <span class="nav-text">4、七牛nodejsSDK</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5、react中swiper轮播图生命周期"><span class="nav-number">5.</span> <span class="nav-text">5、react中swiper轮播图生命周期</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#6、vw-vh"><span class="nav-number">6.</span> <span class="nav-text">6、vw vh</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#7、移动端下input提示内容靠下"><span class="nav-number">7.</span> <span class="nav-text">7、移动端下input提示内容靠下</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#8、微信端动态设置title"><span class="nav-number">8.</span> <span class="nav-text">8、微信端动态设置title</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#9、下载微信二维码图片并修改名称及后缀"><span class="nav-number">9.</span> <span class="nav-text">9、下载微信二维码图片并修改名称及后缀</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#10、遇到的超出内容显示省略号"><span class="nav-number">10.</span> <span class="nav-text">10、遇到的超出内容显示省略号</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#使用伪元素加绝对定位"><span class="nav-number">10.1.</span> <span class="nav-text">使用伪元素加绝对定位</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#11、监听微信端后退事件"><span class="nav-number">11.</span> <span class="nav-text">11、监听微信端后退事件</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#12、微信分享时遇到的问题"><span class="nav-number">12.</span> <span class="nav-text">12、微信分享时遇到的问题</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#13、ios下readonly失效"><span class="nav-number">13.</span> <span class="nav-text">13、ios下readonly失效</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#14、判断是手机还是PC并实现跳转"><span class="nav-number">14.</span> <span class="nav-text">14、判断是手机还是PC并实现跳转</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy;  2015 - 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">handsameliu</span>
</div>


<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Pisces
  </a>
</div>


        

        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  




  
  









  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>

  
  <script type="text/javascript" src="/lib/three/three.min.js"></script>

  
  <script type="text/javascript" src="/lib/three/three-waves.min.js"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.1"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.1"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.1"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.1"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.1"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.1"></script>



  


  




	





  





  





  






  





  

  

  

  

  

  

</body>
</html>
